{"version":3,"sources":["webpack:///./src/components/materials/LoginMaterials.js"],"names":["ErrorMessage","React","useState","error","setError","emailRef","useRef","passwordRef","handleSubmit","e","a","preventDefault","axios","post","identifier","current","value","password","data","setUser","navigate","className","text","id","onSubmit","htmlFor","ref","type","name"],"mappings":"kOAOMA,EAAe,kBAAM,+CAEZ,qBAAO,IAAD,EACSC,IAAMC,SAAS,MAAlCC,EADU,KACHC,EADG,KAEXC,EAAWJ,IAAMK,SACjBC,EAAcN,IAAMK,SAEpBE,EAAY,uCAAG,WAAOC,GAAP,iBAAAC,EAAA,6DACjBD,EAAEE,iBADe,kBAIQC,IAAMC,KAAK,wCAAyC,CACrEC,WAAYT,EAASU,QAAQC,MAC7BC,SAAUV,EAAYQ,QAAQC,QANrB,gBAINE,EAJM,EAINA,KAIPC,YAAQD,GACRd,EAAS,MACTgB,mBAAS,4BAVI,kDAYbhB,EAAS,kBAZI,0DAAH,sDAgBlB,OACI,0BAAMiB,UAAU,gBAEXlB,GAAS,kBAACH,EAAD,CAAcsB,KAAMnB,IAC9B,0BAAMoB,GAAG,OAAOC,SAAUhB,GACtB,8BAAUe,GAAG,WACT,wDACA,6BACI,2BAAOE,QAAQ,iBAAf,SACA,2BACIJ,UAAU,eAEVK,IAAKrB,EACLsB,KAAK,QACLC,KAAK,gBACLL,GAAG,mBAGX,6BACI,2BAAOE,QAAQ,YAAf,SACA,2BACIJ,UAAU,eACVK,IAAKnB,EACLoB,KAAK,WACLC,KAAK,WACLL,GAAG,eAIf,6BACI,kBAAC,IAAD,CACII,KAAK,UADT","file":"26-5f636124f0c9b0639458.js","sourcesContent":["import React from \"react\"\nimport axios from \"axios\"\nimport {navigate} from \"@reach/router\"\n\nimport {setUser} from \"../../services/auth\"\nimport {Button, Modal} from \"reactstrap\";\n\nconst ErrorMessage = () => <h1>Błąd logowania</h1>;\n\nexport default () => {\n    const [error, setError] = React.useState(null);\n    const emailRef = React.useRef();\n    const passwordRef = React.useRef();\n\n    const handleSubmit = async (e) => {\n        e.preventDefault()\n\n        try {\n            const {data} = await axios.post('https://lrstrapi.burrow.io/auth/local', {\n                identifier: emailRef.current.value,\n                password: passwordRef.current.value\n            })\n            setUser(data)\n            setError(null)\n            navigate('/materials/materialsauth')\n        } catch {\n            setError('Błąd logowania')\n        }\n    }\n\n    return (\n        <main className=\"pa4 black-80\">\n\n            {error && <ErrorMessage text={error}/>}\n            <form id=\"form\" onSubmit={handleSubmit}>\n                <fieldset id=\"sign_up\">\n                    <legend>Logowanie do systemu</legend>\n                    <div>\n                        <label htmlFor=\"email-address\">Email</label>\n                        <input\n                            className=\"form-control\"\n\n                            ref={emailRef}\n                            type=\"email\"\n                            name=\"email-address\"\n                            id=\"email-address\"\n                        />\n                    </div>\n                    <div>\n                        <label htmlFor=\"password\">Hasło</label>\n                        <input\n                            className=\"form-control\"\n                            ref={passwordRef}\n                            type=\"password\"\n                            name=\"password\"\n                            id=\"password\"\n                        />\n                    </div>\n                </fieldset>\n                <div>\n                    <Button\n                        type=\"submit\"\n                    >Zaloguj</Button>\n                </div>\n            </form>\n        </main>\n    );\n}"],"sourceRoot":""}